<ActionBar title="Disciplinas" class="action-bar">
    <ActionItem text="Sobre" ios.position="right" nsRouterLink="/sobre" android.position="popup"></ActionItem>
</ActionBar>

<GridLayout rows="auto, *" sdkExampleTitle sdkToggleNavButton>
    <TabView row="1" selectedIndex="0" androidOffscreenTabLimit="2" tabBackgroundColor="#006968" tabTextColor="white" androidSelectedTabHighlightColor="white" selectedTabTextColor="white">
        <StackLayout *tabItem="{title: 'Inicio'}">
            <GridLayout rows="auto, auto">
                <GridLayout row="0" columns="*, auto" class="PrevisaoCre">
                    <Label col="0"  text="Previsao do CRE" class="m-15 h2 text-left"></Label>
                    <label col="1" [text]="previsaoCre()" class="m-15 h2 text-left"></label>
                </GridLayout>

                <GridLayout row="1" columns="*, *">
                    <GridLayout col="0" rows="*,*" class="cre">
                        <Label col="0" row="0" text="CRE Atual" class="m-15 h3 text-left"></Label>
                        <label col="0" row="1" [text]="calcularCre()" class="m-15 h3 text-left"></label>
                    </GridLayout>
                    <GridLayout col="1" rows="auto,auto" class="cargaHorariaStatus">
                        <Label col="0" row="0" text="CH Acumulada" class="m-15 h3 text-left"></Label>
                        <label col="0" row="1" [text]="chAcumulada()" class="m-15 h3 text-left"></label>
                    </GridLayout>    
                </GridLayout> 
            </GridLayout>

            <StackLayout class="tabelaHorarios">
                <label text="Aulas de Hoje" style="color: white;" class="h3"></label>
                <label text="Quinta-Feira" style="color: white; margin-left: 10px;" class="h1"></label>
                <label text="Não há Aulas" class="tabelaHorarios-item"></label>
            </StackLayout>
        </StackLayout>

        <StackLayout *tabItem="{title: 'Pagando'}">
            <GridLayout row="0" columns="*, auto">
                <ListView  colSpan="2" col="0" [items]="disciplinasAbertas" class="list-group">     
                    <ng-template let-item="item">
                        <GridLayout columns="35px, *, 70px, 55px" class="list-group-item">
                            <label col="0" [text]="icons.get('trash')" class="fa" (tap)="deleteDisciplina(item)"></label>
                            <Label col="1" [text]='item.nome' [nsRouterLink]="['/disciplina', item.id]"></Label>
                            <Label col="2" [text]="item.cargaHoraria + 'CH'" style="text-align: center" class="cargaHoraria"></Label>
                            <Label col="3" [text]='calcularNota(item)' class="nota" [nsRouterLink]="['/disciplina', item.id]"></Label>
                        </GridLayout> 
                    </ng-template>
                </ListView>

                <button col="1" text="+" nsRouterLink="/disciplina" class="btn btn-primary"></button>
                
            </GridLayout>
        </StackLayout>

        <StackLayout *tabItem="{title: 'Histórico'}"> 
            <ListView [items]="disciplinasFechadas" class="list-group">     
                <ng-template let-item="item">
                    <GridLayout columns="*, 70px, 55px, auto" class="list-group-item" (tap)="deleteDisciplina(item)">
                        <label col="0" [text]='item.nome'></label>
                        <Label col="1" [text]="item.cargaHoraria + 'CH'" style="text-align: center" class="cargaHoraria"></Label>
                        <label col="2" [text]="calcularNota(item)" style="text-align: center" class="nota"></label>
                        <label *ngIf="item.status === 'AP'" col="3" [text]="item.status" class="statusAP"></label>
                        <label *ngIf="item.status === 'RE'" col="3" [text]="item.status" class="statusRE"></label>
                    </GridLayout> 
                </ng-template>
            </ListView>
        </StackLayout>
    </TabView>
</GridLayout>